#!name=è·å–Cookieåˆé›†
#!desc=ç™½ç³–è‡ªç”¨è·å–Cookieä¿¡æ¯

#!arguments=ç™½ç³–é˜¿é‡Œäº‘ç›˜:#,æ¨±èŠ±é˜¿é‡Œäº‘ç›˜:#
#!arguments-desc=ç™½ç³–é˜¿é‡Œäº‘ç›˜@Lowking        æ¨±èŠ±é˜¿é‡Œäº‘ç›˜@Sliverkiss

#æŒ‰ä¸‹é¢é…ç½®å®Œä¹‹åï¼Œæ‰“å¼€ç›¸åº”çš„APPæˆ–å°ç¨‹åºã€ç½‘å€è·å–tokenï¼ˆå¦‚è·å–ä¸åˆ°ï¼Œç­‰ä¸€æ®µæ—¶é—´å†æ‰“å¼€ï¼‰ï¼Œä¸‹é¢é…ç½®åªéªŒè¯è¿‡surgeçš„ï¼Œå…¶ä»–çš„è‡ªè¡Œæµ‹è¯•
#âš ï¸åªæµ‹è¯•è¿‡surgeæ²¡æœ‰å…¶ä»–appè‡ªè¡Œæµ‹è¯•

#************************
#Surge 4.2.0+ è„šæœ¬é…ç½®(å…¶ä»–APPè‡ªè¡Œè½¬æ¢é…ç½®):
#************************

[Script]
# é˜¿é‡Œäº‘ç›˜ç­¾åˆ°è·å–token@lowking
https://auth.alipan.com/v2/account/token
{{{ç™½ç³–é˜¿é‡Œäº‘ç›˜}}} = requires-body=1,type=http-response,pattern=https:\/\/auth.(aliyundrive|alipan).com\/v2\/account\/token,script-path=https://raw.githubusercontent.com/lowking/Scripts/master/ali/aliYunPanCheckIn.js

# é˜¿é‡Œäº‘ç›˜ç­¾åˆ°è·å–token@Sliverkiss
{{{æ¨±èŠ±é˜¿é‡Œäº‘ç›˜}}} = type=http-request, pattern=^https:\/\/(auth|aliyundrive)\.alipan\.com\/v2\/account\/token, script-path=https://gist.githubusercontent.com/Sliverkiss/33800a98dcd029ba09f8b6fc6f0f5162/raw/aliyun.js, requires-body=true, max-size=-1, timeout=60

# è·å–é›¨æ™¨iosç­¾åˆ°éœ€è¦çš„å„é¡¹å‚æ•°@Sliverkiss
yuchenios = type=http-request, pattern=^https:\/\/yuchen.tonghuaios.com\/users\?.+, script-path=https://raw.githubusercontent.com/Sliverkiss/GoodNight/master/Script/yuchenios.js, timeout=60

# å®šæ—¶ä»»åŠ¡åŠCookieè·å–@MartinsKing
Bç«™æ¯æ—¥ä»»åŠ¡ = type=cron,cronexp=30 7 * * *,script-path=https://raw.githubusercontent.com/ClydeTime/BiliBili/main/js/BiliBiliDailyBonus.js,wake-system=1,timeout=15
Bç«™Cookie(APP) = type=http-request,pattern=^https?:\/\/app\.bilibili\.com\/x\/resource\/domain\?,script-path=https://raw.githubusercontent.com/ClydeTime/BiliBili/main/js/BiliBiliDailyBonus.js,requires-body=0
Bç«™Cookie(ç½‘é¡µ) = type=http-request,pattern=^https?:\/\/m\.bilibili\.com/$,script-path=https://raw.githubusercontent.com/ClydeTime/BiliBili/main/js/BiliBiliDailyBonus.js,requires-body=0

# ç±³å…¶æ—è½®èƒç­¾åˆ°@Sliverkiss
ç±³å…¶æ—ä¿±ä¹éƒ¨token = type=http-request, pattern=^https:\/\/ulp\.michelin\.com\.cn\/bff\/profile, script-path=https://gist.githubusercontent.com/Sliverkiss/49c5d5176cad6e47919ffe058606ed0d/raw/michelin.js, timeout=10

# èœœé›ªå†°åŸå°ç¨‹åºç­¾åˆ°@Sliverkiss
èœœé›ªå†°åŸè·å–token = type=http-response, pattern=^https:\/\/mxsa\.mxbc\.net\/api\/v1\/customer\/info, script-path=https://gist.githubusercontent.com/Sliverkiss/865c82e42a5730bb696f6700ebb94cee/raw/mxbc.js, requires-body=true, timeout=60

# è·å–å¾®ä¿¡å°ç¨‹åºcookie@Sliverkiss
ğŸ¥¤éœ¸ç‹èŒ¶å§¬å°ç¨‹åºç­¾åˆ° = type=cron, cronexp="0 10 * * *", script-path=https://gist.githubusercontent.com/Sliverkiss/4984f7f34d6df8bcdd1e13ecac4bba51/raw/bwcj.js, timeout=300
éœ¸ç‹èŒ¶å§¬è·å–token = type=http-request, pattern=^https:\/\/(webapi|qmwebapi)\.qmai\.cn\/web\/(catering|catering2-apiserver)\/crm\/points-info, script-path=https://gist.githubusercontent.com/Sliverkiss/4984f7f34d6df8bcdd1e13ecac4bba51/raw/bwcj.js, timeout=10


[MITM]
hostname = %APPEND% auth.alipan.com, auth.aliyundrive.com, yuchen.tonghuaios.com, app.bilibili.com, m.bilibili.com, ulp.michelin.com.cn, mxsa.mxbc.net, qmwebapi.qmai.cn, webapi.qmai.cn